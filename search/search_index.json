{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p> Bring the full power of ParadeDB into Django. </p> <p>   Build sophisticated, composable search queries effortlessly, and leverage   advanced indexing, search, and ranking at blazing speed \u2014 all inside PostgreSQL. </p>"},{"location":"#features","title":"Features","text":"<ul> <li>Full-text search backed by ParadeDB\u2019s BM25 index</li> <li>Rich expression and lookups: <code>Match</code>, <code>Range</code>, <code>Term</code>,  <code>Boolean</code>, range queries, and more</li> <li>Aggregation</li> <li>Extension for ParadeDB <code>pg_search</code></li> <li>Support V2 Syntax</li> <li>And More ...</li> </ul>"},{"location":"#supported-version","title":"Supported Version","text":"<ul> <li> <p>0.19.11 - 0.20+</p> </li> </ul>"},{"location":"#install-on-ubuntu","title":"Install on ubuntu","text":"<p><pre><code>sudo apt-get install -y libicu70\ncurl -L \"https://github.com/paradedb/paradedb/releases/download/v0.19.6/postgresql-17-pg-search_0.19.6-1PARADEDB-noble_amd64.deb\" -o /tmp/pg_search.deb\nsudo apt-get install -y /tmp/*.deb\n</code></pre> in the <code>postgresql.conf</code> <pre><code>shared_preload_libraries = 'pg_search'\n</code></pre> create the extension <pre><code>CREATE EXTENSION IF NOT EXISTS pg_search;\n</code></pre></p> <ul> <li>Facing Issues or need more detail, see ParadeDb installation Manually or via Docker</li> </ul>"},{"location":"#install","title":"Install","text":"<p>Make sure the <code>pg_search</code> extension from ParadeDB is installed in your PostgreSQL database. If it is not installed, see the Installation section below. </p> <pre><code>pip install paradedb-django\n</code></pre>"},{"location":"#add-to-installed_apps","title":"Add to installed_apps","text":"<pre><code>INSTALLED_APPS = [\n    ...,\n    'paradedb'\n]\n</code></pre>"},{"location":"aggregations/","title":"Aggregates","text":"<p>\u26a0 If the filter is applied and you encounter the error <code>query is incompatible with pg_search</code> when using an expression or lookup, try using the legacy ParadeDB function by passing the value as a dictionary or by using LookupParameter with legacy=True.</p> <ul> <li>All the aggregations is inside the <code>paradedb.aggregates</code> module</li> </ul>"},{"location":"aggregations/#count","title":"Count","text":"<pre><code>Count(field: str = \"id\")\n</code></pre> <ul> <li>see ParadeDB Count .</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Count\nfrom articles.models import Article\n\nArticle.objects.aggregate(count=Count(\"id\", filter=models.Q(id__all=True)))\n</code></pre>"},{"location":"aggregations/#term","title":"Term","text":"<pre><code>Term(\n    field: str,\n    order: typing.Optional[TermAggregateOrder | dict[str,str]] = None,\n    size: int = 0,\n    segment_size: int = 0,\n    min_doc_count: int = 0,\n    missing: float | int | None = None,\n    show_term_doc_count_error: bool = False,\n    aggs: dict | None = None,\n)\n</code></pre> <ul> <li>see ParadeDB Terms Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.expressions import All\nfrom paradedb.aggregates import Term, TermAggregateOrder, Count\nfrom paradedb.expressions import All\n\n# using count or _key\nArticle.objects.aggregate(\n        count=Term(\n            \"rank\",\n            order={\"_count\": \"desc\"},  # _key\n            filter = models.Q(id__all=True)\n        )\n    )\n\n\n# using SubAggregation\nArticle.objects.filter(All(match_op=True)).aggregate(\n        count=Term(\n            \"rank\",\n            order={\"max_count\": \"desc\"},\n            aggs={\n                \"max_count\": Count(\"id\").build_json(as_dict=True),\n            },\n        )\n    )\n</code></pre>"},{"location":"aggregations/#termaggregateorder","title":"TermAggregateOrder","text":"<pre><code>TermAggregateOrder(\n    target: Literal[\"_count\", \"_key\"] | str,\n    order: Literal[\"asc\", \"desc\"] = \"asc\",\n)\n</code></pre> <p>Example</p> <pre><code>TermAggregateOrder(\"_key\", \"asc\")\n</code></pre>"},{"location":"aggregations/#histogrambound","title":"HistogramBound","text":"<pre><code>HistogramBound(min: int, max: int)\n</code></pre> <ul> <li>Used by DateHistogram and Histogram </li> </ul> <p>Example</p> <pre><code>HistogramBound(0, 100)\n</code></pre>"},{"location":"aggregations/#datehistogram","title":"DateHistogram","text":"<pre><code>DateHistogram(\n    field: str,\n    fixed_interval: str = None,\n    offset: str | None = None,\n    min_doc_count: int | None = None,\n    hard_bounds: HistogramBound | tuple[float, float] | None = None,\n    extended_bounds: HistogramBound | tuple[float, float] | None = None,\n    keyed: bool = True,\n)\n</code></pre> <ul> <li>see ParadeDB Date Histogram Aggregation. </li> <li>see Tantivy doc for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import DateHistogram\n\nArticle.objects.aggregate(\n        date_histogram=DateHistogram(\n            \"created\",\n            \"30d\",\n            filter=models.Q(id__all=True)\n        )\n    )\n</code></pre>"},{"location":"aggregations/#histogram","title":"Histogram","text":"<pre><code>Histogram(\n    field: str,\n    interval: str,\n    offset: str | None = None,\n    min_doc_count: int | None = None,\n    hard_bounds: HistogramBound | tuple[float, float] | None = None,\n    extended_bounds: HistogramBound | tuple[float, float] | None = None,\n    keyed: bool = True,\n    is_normalized_to_ns: bool = False,\n)\n</code></pre> <ul> <li>see ParadeDB Histogram</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Histogram\n\nArticle.objects.aggregate(\n    result=Histogram(field=\"created\", interval=\"10d\", filter=models.Q(id__all=True))\n)\n</code></pre>"},{"location":"aggregations/#range","title":"Range","text":"<pre><code>Range(\n    field: str,\n    ranges: list[RangeAggegationRange],\n    keyed: bool = True,\n)\n</code></pre> <ul> <li>see ParadeDB Range Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Range, RangeAggegationRange\n\nArticle.objects.filter(All(match_op=True)).aggregate(\n        range_histogram=Range(\n            \"created\",\n            ranges=[\n                RangeAggegationRange(\n                    from_=timezone.datetime(2022, 1, 1), to=timezone.datetime(2022, 1, 2)\n                ),\n                RangeAggegationRange(from_=date(2022, 1, 2), to=date(2022, 1, 3)),\n            ],\n        )\n    )\n</code></pre>"},{"location":"aggregations/#rangeaggegationrange","title":"RangeAggegationRange","text":"<pre><code>RangeAggegationRange(\n    from_: float | int | date | datetime,\n    to: float | int | date | datetime,\n    key: str | None = None,\n)\n</code></pre>"},{"location":"aggregations/#avg","title":"Avg","text":"<pre><code>Avg(\n    field: str,\n    missing: float | int | None = None,\n)\n</code></pre> <ul> <li>see ParadeDB Average Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Avg\nArticle.objects.filter(All(match_op=True)).aggregate(\n        avg_rank=aggregates.Avg(\"rank\")\n    )\n</code></pre>"},{"location":"aggregations/#cardinality","title":"Cardinality","text":"<pre><code>Cardinality(\n    field: str,\n    missing: float | int | str | None = None,\n)\n</code></pre> <ul> <li>see ParadeDB Cardinality Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Cardinality\n\nArticle.objects.filter(All(match_op=True)).aggregate(\n        cardinality=Cardinality(\"rank\", filter=models.Q(rank__gte=1) &amp; models.Q(rank__lte=4))\n    )\n</code></pre>"},{"location":"aggregations/#min","title":"Min","text":"<pre><code>Min(\n    field: str,\n    missing: float | int | None = None,\n)\n</code></pre> <ul> <li>see ParadeDB Min Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Min\nArticle.objects.filter(rank__gte=1).aggregate(m=Min(\"rank\", filter=models.Q(id__all=True)))\n</code></pre>"},{"location":"aggregations/#max","title":"Max","text":"<pre><code>Max(\n    field: str,\n    missing: float | int | None = None,\n)\n</code></pre> <ul> <li>see ParadeDB Max Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Max\n\nArticle.objects.aggregate(m=Max(\"rank\", filter=models.Q(id__all=True)))\n</code></pre>"},{"location":"aggregations/#percentile","title":"Percentile","text":"<pre><code>Percentile(\n    field: str,\n    percents: list[float | int] | None = None,\n    missing: float | int | None = None,\n    keyed: bool = True,\n)\n</code></pre> <ul> <li>see ParadeDB Percentile Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Percentile\n\nArticle.objects.aggregate(\n        percentile=Percentile(\"rank\", [10], filter=models.Q(id__all=True))\n    )\n</code></pre>"},{"location":"aggregations/#stats","title":"Stats","text":"<pre><code>Stats(\n    field: str,\n    missing: float | int | None = None,\n)\n</code></pre> <ul> <li>see ParadeDB Stats Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Stats\n\nArticle.objects.aggregate(stats=Stats(\"rank\", filter=models.Q(id__all=True)))\n</code></pre>"},{"location":"aggregations/#sum","title":"Sum","text":"<pre><code>Sum(\n    field: str,\n    missing: float | int | None = None,\n)\n</code></pre> <ul> <li>see ParadeDB Sum Aggregation.</li> <li>see Tantivy for more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Sum\n\nArticle.objects.aggregate(total_score=Sum(\"rank\", filter=models.Q(id__all=True)))\n</code></pre>"},{"location":"aggregations/#tophit","title":"TopHit","text":"<pre><code>TopHit(\n    sort: list[TopHitSort] | list[dict[str, str]],\n    size: int,\n    from_: int | None = None,\n    docvalue_fields=None,\n)\n</code></pre> <ul> <li>see ParadeDB TopHit Aggregation.</li> <li>see Tantivy fro more</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import TopHit, TopHitSort\n\nArticle.objects.aggregate(\n        top=TopHit(\n            size=100,\n            sort=[TopHitSort(field=\"created\", order=\"desc\")],\n            docvalue_fields=[\"rank\", \"created\", \"id\"],\n            filter=models.Q(id__all=True),\n        )\n    )\n</code></pre>"},{"location":"aggregations/#tophitsort","title":"TopHitSort","text":"<pre><code>TopHitSort(\n    field: str,\n    order: Literal[\"asc\", \"desc\"] = \"asc\",\n)\n</code></pre>"},{"location":"aggregations/#facet","title":"Facet","text":"<pre><code>Facet(aggregate: Aggregate)\n</code></pre> <ul> <li>see ParadeDB Facet Aggregation.</li> </ul> <p>Example</p> <pre><code>from paradedb.aggregates import Facet, Term\n\nArticle.objects.annotate(\n    facet=Facet(Term(\"category\"))\n)\n</code></pre>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#120","title":"1.2.0","text":"<ul> <li>feature: Add support for the json/b subscript [].</li> </ul>"},{"location":"expressions/","title":"Introduction","text":"<p>Expressions in ParadeDB Django define how search, filtering, and ranking logic is constructed in Django ORM queries. They translate your filters into ParadeDB-compatible queries for full-text or structured search.</p> <p>\u26a0 Note on Parameters</p> <ul> <li><code>key_field</code> (<code>str | KeyField)</code>, default <code>id</code>. see KeyField):   The primary field used as the key for the operation. </li> </ul> <p>when using the <code>KeyField</code> on related table (fk,o2o,m2m), make sure the join is applied using select_related or using reverse related query.</p> <ul> <li> <p><code>match_op</code> (<code>bool</code>, default <code>False</code>):    When <code>True</code>, the expression <code>&lt;key_field_or_lhs&gt; @@@ actual_function()</code> will be applied.    When <code>False</code> (or not provided), only the function will be used to generate the SQL, and no key field match operation is applied.</p> </li> <li> <p>when <code>expression.field</code> is a <code>models.F</code> or <code>TableField</code> then, in this case <code>key_field</code> paramter is not required it will be automatically resolved and will set to the corresponding table model(table).  make sure the join is applied when using a foreign field <code>ex(models.F(user__id))</code>.</p> </li> <li> <p><code>output_field</code> can be passed in the expression in case of custom field type. by default no need to pass output field.</p> </li> <li><code>legacy: bool</code>  when <code>True</code> then <code>paradedb</code> schema functions will be used instead <code>pdb</code>. no need to pass unless you want to use legacy function. see legacy settings</li> </ul> <ul> <li>All the Expressions is inside the <code>paradedb.expressions</code> module</li> </ul>"},{"location":"expressions/#all","title":"All","text":"<pre><code>All( key_field: KeyField | str | models.F | TableField = \"id\", match_op: bool = False)\n</code></pre> <p>To learn more, see the ParadeDB All</p>"},{"location":"expressions/#empty","title":"Empty","text":"<pre><code>Empty(key_field: KeyField | str | models.F | TableField = \"id\", match_op: bool = False)\n</code></pre> <p>To learn more, see the ParadeDB Empty.</p> <p>Example</p>"},{"location":"expressions/#search","title":"Search","text":"<pre><code>Search(\n    field: str | models.F | TableField,\n    value: str | ValueCast| ParadeDbFunctionExpression,\n    escaped: bool = False,\n    op: typing.Literal[\"@@@\", \"|||\", \"===\", \"###\", \"&amp;&amp;&amp;\"] = \"@@@\"\n)\n</code></pre> <ul> <li>See TableField </li> <li><code>@@@</code> is default normal paradedb operator and evaluates complex query expressions like proximity searches, regex patterns, and parsed queries</li> <li><code>|||</code> performs disjunctive matching, finding documents that contain any of the query term.</li> <li><code>###</code> enforces both term presence and positional requirements, perfect for phrase matching</li> <li><code>&amp;&amp;&amp;</code> requires all terms to be present (conjunction)</li> <li><code>===</code> performs exact token matching, ideal for categorical fields or identifier lookups</li> <li><code>|||, ===, &amp;&amp;&amp;, ###, paradedb.cast.ValueCast</code> only supoorted in paradedb v2 api.</li> </ul> <p>To learn more, see the ParadeDB Search Overview.</p> <p>Example <pre><code> Article.objects.filter(Search(field=\"title\", value=\"well\", escaped=False))\n\n # using F.. when using on related field make sure join is applied using select_related\n Article.objects.filter(Search(models.F(\"title\"), \"python\"))\n\n # using table field\n Article.objects.filter(Search(TableField('title', key_field=KeyField(Article)), \"python\"))\n\n # using search value with tokenizer. -- supported in v2 only\n from paradedb.cast import ValueCast\n Article.objects.filter(Search('title', ValueCast('django', 'pdb.ngram(1,2)')))\n</code></pre></p>"},{"location":"expressions/#match","title":"Match","text":"<pre><code>Match(\n    field: str | models.F | TableField,\n    value: str,\n    distance: int = 0,\n    conjunction_mode: bool = False,\n    tokenizer: typing.Optional[\n            Tokenizer | typing.Optional[\n                typing.Literal[\n                    \"whitespace\",\n                    \"keyword\",\n                    \"ngram\",\n                    \"regex\",\n                    \"icu\",\n                    \"jieba\",\n                    \"chinese_lindera\",\n                    \"chinese_compatible\",\n                    \"source_code\",\n                    \"raw\",\n                ]\n            ]\n        ] = None,\n    transposition_cost_one: str = True,\n    prefix: bool = False,\n    escaped: bool = False,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False\n)\n</code></pre> <p><code>tokenizer</code>: currently string tokenizers are supported. Tokenizer instance implementation will be available soon. </p> <p>To learn more, see the ParadeDB Match.</p> <p>Example <pre><code>Article.objects.filter(\n        Match(\n            field=\"title\",\n            value=\"python\",\n            distance=1,\n            conjunction_mode=False,\n            prefix=True,\n            tokenizer=\"whitespace\",\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#exists","title":"Exists","text":"<pre><code>Exists(field: str | models.F | TableField, key_field: KeyField | str = \"id\", match_op: bool = False)\n</code></pre> <p>To learn more, see the ParadeDB Exists.</p> <p>Example <pre><code>Article.objects.filter(Exists(field=\"rank\", match_op=True))\n</code></pre></p>"},{"location":"expressions/#range","title":"Range","text":"<pre><code>Range(\n    field: str | models.F | TableField,\n    range_type: typing.Literal[\"int4range\", \"int8range\", \"daterange\", \"tsrange\", \"tstzrange\"],\n    start: int | str | datetime.datetime | datetime.date,\n    end: typing.Optional[int | str | datetime.datetime | datetime.date] = None,\n    bounds: typing.Literal[\"[)\", \"(]\", \"[]\", \"()\"] = Range.RangeBound.INCLUSIVE_LOWER_EXCLUSIVE_UPPER,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre>"},{"location":"expressions/#rangetype","title":"RangeType","text":"<pre><code>RangeType.INT4RANGE  # \"int4range\"\nRangeType.INT8RANGE  # \"int8range\"\nRangeType.DATERANGE  # \"daterange\"\nRangeType.TSRANGE    # \"tsrange\"\nRangeType.TSTZRANGE  # \"tstzrange\"\n</code></pre>"},{"location":"expressions/#rangebound","title":"RangeBound","text":"<pre><code>RangeBound.INCLUSIVE_LOWER_EXCLUSIVE_UPPER  # \"[)\"\nRangeBound.EXCLUSIVE_LOWER_INCLUSIVE_UPPER  # \"(]\"\nRangeBound.INCLUSIVE_BOTH                    # \"[]\"\nRangeBound.EXCLUSIVE_BOTH                    # \"()\"\n</code></pre> <p>To learn more, see the ParadeDB Range.</p> <p>Example</p> <pre><code># Range Date\n\nArticle.objects.filter(\n        Range(\n            field=\"created\",\n            range_type=\"daterange\",\n            start=date(2025, 9, 2),\n            end=date(2025, 9, 10),\n            bounds=\"[)\",\n            match_op=True,\n        )\n    )\n# Range Integer\n\nArticle.objects.filter(\n        Range(\n            field=\"rank\",\n            range_type=\"int4range\",  # Range.RangeType.INT4RANGE\n            start=1,\n            end=3,\n            bounds=\"()\",\n            match_op=True,\n        )\n    )\n\n# Unbounded Range\n\nArticle.objects.filter(\n        Range(\n            field=\"rank\",\n            range_type=\"int4range\",  # Range.RangeType.INT4RANGE\n            start=1,\n            match_op=True,\n        )\n    )\n</code></pre>"},{"location":"expressions/#rangeterm","title":"RangeTerm","text":"<pre><code>RangeTerm(\n    field: str | models.F | TableField,\n    term_or_range: str | int | float,\n        cast: typing.Literal[\n            \"tsrange\",\n            \"int4range\",\n            \"int8range\",\n            \"daterange\",\n            \"tstzrange\",\n            \"bigint\",\n            \"date\",\n            \"double precision\",\n            \"integer\",\n            \"numeric\",\n            \"real\",\n            \"smallint\",\n            '\"char\"',\n            \"timestamp with time zone\",\n            \"timestamp without time zone\",\n            \"numrange\",\n        ],\n    relation: typing.Optional[typing.Literal[\"Intersects\", \"Within\", \"Contains\"]] = None,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB RangeTerm.</p> <p>Example <pre><code># Range Term With Date Range Fields\nArticle.objects.filter(\n        RangeTerm(\n            field=\"date_range\",\n            term_or_range=\"'[2025-09-02,2025-09-10]'\",\n            cast=Range.RangeType.DATERANGE,\n            relation=RangeTerm.Relation.Intersects,\n            match_op=True,\n        )\n    )\n# Range with Integer Range Fields\n Article.objects.filter(\n        RangeTerm(\n            field=\"price_range\",\n            term_or_range=1,\n            cast=RangeTerm.Cast.integer,\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#regex","title":"Regex","text":"<pre><code>Regex(\n    field: str | models.F | TableField,\n    value: str,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB Regex.</p> <p>Example <pre><code>Article.objects.filter(\n        Regex(\n            field=\"title\",\n            value='^well$',\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#term","title":"Term","text":"<pre><code>Term(\n    field: str | models.F | TableField,\n    value: str,\n    enum_cast_field: typing.Optional[str] = None, # PostgreSQL cast type, e.g., 'int', 'date', 'timestamp'\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB Term.</p> <p>Example <pre><code> Article.objects.filter(Term(field=\"rank\", value=100, match_op=True))\n</code></pre></p>"},{"location":"expressions/#termset","title":"TermSet","text":"<pre><code>TermSet(\n    terms: typing.List[Term],\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB TermSet.</p> <p>Example <pre><code> Article.objects.filter(\n        TermSet(\n            terms=[\n                Term(field=\"rank\", value=1),\n                Term(field=\"rank\", value=200),\n            ],\n            match_op=True\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#fuzzyterm","title":"FuzzyTerm","text":"<pre><code>FuzzyTerm(\n    field: str | models.F | TableField,\n    value: str,\n    distance: int = 2,\n    transposition_cost_one: bool = True,\n    prefix: bool = False,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB FuzzyTerm.</p> <p>Example <pre><code>Article.objects.filter(\n            FuzzyTerm(\n                field=\"title\",\n                value=\"well\",\n                distance=2,\n                prefix=False,\n                transposition_cost_one=True,\n                match_op=True\n            )\n        )\n</code></pre></p>"},{"location":"expressions/#phrase","title":"Phrase","text":"<pre><code>Phrase(\n    field: str | models.F | TableField,\n    pharses: typing.List[str] # must be atleast 2,\n    slop: int = 0,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB Phrase.</p> <p>Example <pre><code>Article.objects.filter(\n        Phrase(field=\"description\", pharses=[\"quick\", \"brown\", \"fox\"], slop=3, match_op=True)\n    )\n</code></pre></p>"},{"location":"expressions/#phraseprefix","title":"PhrasePrefix","text":"<pre><code>PhrasePrefix(\n    field: str | models.F | TableField,\n    pharses: typing.List[str], # must be atleast 2,\n    max_expansion: int = 0,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False\n)\n</code></pre> <p>To learn more, see the ParadeDB PhrasePrefix.</p> <p>Example <pre><code>Article.objects.filter(\n        PhrasePrefix(field=\"title\", pharses=[\"deep\", \"learn\"], max_expansion=5, match_op=True)\n    )\n</code></pre></p>"},{"location":"expressions/#constscore","title":"ConstScore","text":"<pre><code>ConstScore(\n    score: float | int,\n    query: ParadeDbFunctionExpression,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False\n)\n</code></pre> <p>To learn more, see the ParadeDB ConstScore.</p> <p>Example <pre><code>  Article.objects.filter(\n        Boolean(\n            should=[Term(\"title\", value=\"running\"), ConstScore(1.0, Match(field=\"title\", value=\"shoes\"))],\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#bm25score","title":"Bm25Score","text":"<pre><code>Bm25Score(key_field: KeyField | str | models.F | TableField  = \"id\")\n</code></pre> <p>To learn more, see the ParadeDB BM25 Scoring.</p> <p>Example <pre><code>Article.objects.annotate(score=Bm25Score()).filter(score__gt=0).order_by(\"-score\")\n</code></pre></p>"},{"location":"expressions/#boost","title":"Boost","text":"<pre><code>Boost(\n    factor: float | int,\n    query: ParadeDbFunctionExpression,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB Boost.</p> <p>Example <pre><code> Article.objects.filter(\n        Boolean(\n            should=[Term(\"title\", value=\"running\"), Boost(1.0, Match(field=\"title\", value=\"shoes\"))],\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#disjunctionmax","title":"DisjunctionMax","text":"<pre><code>DisjunctionMax(\n    disjuncts: typing.List[ParadeDbFunctionExpression],\n    tie_breaker: int = 0,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False\n)\n</code></pre> <p>To learn more, see the ParadeDB DisjunctionMax.</p> <p>Example <pre><code>Article.objects.filter(\n        DisjunctionMax(\n            disjuncts=[Term(field=\"title\", value=\"running\"), Term(field=\"title\", value=\"shoes\")],\n            tie_breaker=1,\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#boolean","title":"Boolean","text":"<pre><code>Boolean(\n    must: typing.Optional[typing.List[ParadeDbFunctionExpression]] = None,\n    must_not: typing.Optional[typing.List[ParadeDbFunctionExpression]] = None,\n    should: typing.Optional[typing.List[ParadeDbFunctionExpression]] = None,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False\n)\n</code></pre> <p>To learn more, see the ParadeDB Boolean.</p> <p>Example <pre><code>Article.objects.filter(\n        Boolean(\n            must=[Match(field=\"title\", value=\"python\")],\n            must_not=[Match(\"description\", value=\"python\", tokenizer=\"raw\")],\n            should=[Term(\"title\", value=\"python\"), ConstScore(1.0, Term(\"title\", value=\"python\"))],\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#snippet","title":"Snippet","text":"<pre><code>Snippet(\n    field: str | models.F | TableField,\n    limit: typing.Optional[int] = None,\n    offset: typing.Optional[int] = None,\n    start_tag: typing.Optional[str] = None,\n    end_tag: typing.Optional[str] = None,\n    max_num_chars: typing.Optional[int] = None\n)\n</code></pre> <p>To learn more, see the ParadeDB Snippet and Highlighting.</p> <p>Example <pre><code> Article.objects.annotate(\n        snippet_title=Snippet(field=\"description\", start_tag=\"&lt;b&gt;\", end_tag=\"&lt;/b&gt;\", max_num_chars=100),\n        snippet_description=Snippet(field=\"description\", start_tag=\"&lt;b&gt;\", end_tag=\"&lt;/b&gt;\", max_num_chars=100),\n    ).filter(\n        Boolean(must=[Match(field=\"title\", value=\"hello\")], match_op=True)\n        | Match(field=\"description\", value=\"well\", match_op=True)\n    )\n</code></pre></p>"},{"location":"expressions/#morelikethis","title":"MoreLikeThis","text":"<pre><code>MoreLikeThis(\n    document_id: typing.Optional[str | int] = None,\n    document: typing.Optional[dict] = None,\n    fields: typing.Optional[typing.List[str]] = None,\n    min_doc_frequency: typing.Optional[int] = None,\n    max_doc_frequency: typing.Optional[int] = None,\n    min_term_frequency: typing.Optional[int] = None,\n    max_query_terms: typing.Optional[int] = None,\n    min_word_length: typing.Optional[int] = None,\n    max_word_length: typing.Optional[int] = None,\n    boost_factor: typing.Optional[int | float] = None,\n    stop_words: typing.Optional[typing.List[str]] = None,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>\u26a0 Note: - <code>document_id</code> and <code>document</code> cannot be used together.   When <code>document</code> is provided, the <code>document_id</code> field will be excluded, and vice versa. - <code>document_id</code> and <code>fields</code> can be used together, while <code>document</code> must be used alone.</p> <p>To learn more, see the ParadeDB MoreLikeThis.</p> <p>Example <pre><code># with document id and field\nArticle.objects.filter(\n        MoreLikeThis(\n            document_id=1,\n            fields=[\"title\", \"description\"],\n            min_term_frequency=1,\n            max_query_terms=20,\n            match_op=True\n        )\n    )\n\n# with document field\nArticle.objects.filter(\n        MoreLikeThis(\n            document={\"title\": \"well\", \"description\": \"world\"},\n            min_term_frequency=1,\n            max_query_terms=20,\n            match_op=True\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#parse","title":"Parse","text":"<pre><code>Parse(\n    query: str,\n    lenient: bool = False,\n    conjunction_mode: bool = False,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB Parse.</p> <p>Example <pre><code>Article.objects.filter(\n        Parse(\n            query=\"title:well AND description:well\",\n            lenient=True,\n            conjunction_mode=True,\n            key_field=\"id\",\n            match_op=True,\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#parsewithfield","title":"ParseWithField","text":"<pre><code>ParseWithField(\n    field: str | models.F | TableField,\n    value: str,\n    lenient: bool = False,\n    conjunction_mode: bool = False,\n    key_field: KeyField | str = \"id\",\n    match_op: bool = False,\n)\n</code></pre> <p>To learn more, see the ParadeDB ParseWithField.</p> <p>Example <pre><code>Article.objects.filter(\n        ParseWithField(\n            field=\"title\",\n            value=\"well\",\n            lenient=True,\n            conjunction_mode=True,\n            match_op=True,\n        )\n        &amp; ParseWithField(field=\"description\", value=\"hello\", conjunction_mode=True, match_op=True)\n    )\n</code></pre></p>"},{"location":"expressions/#proximity","title":"Proximity","text":"<pre><code>Proximity(\n        values: typing.List[str | int | ProximityRegex | ProximityArray | typing.Literal[\"##\", \"##&gt;\"]],\n        field: typing.Optional[str | models.F | TableField] = None,\n)\n</code></pre> <ul> <li><code>values</code> expected length must be &gt;= 3. passing wrong sequence value will raise <code>ValueError</code>.</li> </ul> <p>To learn more, see the ParadeDB Proximity.</p> <p>Example <pre><code>from paradedb.expressions import Proximity, ProximityRegex, ProximityArray\n\nArticle.objects.filter(\n        Proximity(\n            [\"python\", \"##\" 1, \"##&gt;\", \"django\"],\n            field=\"title\"\n        )\n    )\n\n# using proximity regex and proximity array\nArticle.objects.filter(\n        Proximity(\n             (\n                \"django\",\n                \"##\",\n                \"1\",\n                \"##&gt;\",\n                ProximityRegex(\"m.*\"),\n                \"##\",\n                100,\n                \"##&gt;\",\n                ProximityArray([\"wow\", ProximityRegex(\"wow.*\", 10)]),\n            ),\n            field='title'\n        )\n    )\n</code></pre></p>"},{"location":"expressions/#jsonop","title":"JsonOp","text":"<ul> <li>supported in version - 0.20.5</li> </ul> <pre><code>JsonOp(field: str, *keys: str, value: str | int | models.Value)\n</code></pre> <p>Documentation link: -</p> <p>Example <pre><code>from paradedb.expressions import JsonOp\n\nArticle.objects.filter(JsonOp(\"metadata\", \"read_count\", value=models.Value(1)))\nArticle.objects.filter(JsonOp(\"metadata\", \"tags\", \"name\", value='django'))\n</code></pre></p>"},{"location":"extension/","title":"Extension","text":""},{"location":"extension/#paradedb-pgsearch-extensions","title":"ParadeDB / PGSearch Extensions","text":"<p>ParadeDB allows you to create PostgreSQL extensions directly from Django migrations using the <code>ParadeDbExtension</code>.</p>"},{"location":"extension/#usage","title":"Usage","text":"<pre><code>from django.db import migrations\nfrom paradedb.extension import ParadeDbExtension\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        # your migration dependencies here\n    ]\n\n    operations = [\n        ParadeDbExtension(),  # Creates the \"pg_search\" extension by default\n    ]\n</code></pre> <p>Make sure that the PostgreSQL server allows creating extensions and that your database user has sufficient privileges.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This quick guide shows how to define a Django model with a BM25 index and perform a simple ParadeDB search.</p>"},{"location":"getting-started/#model-definition","title":"Model Definition","text":"<p>Create a simple model. Attach a BM25 index using ParadeDB.</p> <pre><code>from django.db import models\nfrom paradedb.indexes import Bm25Index\n\nclass Article(models.Model):\n    title = models.CharField(max_length=255)\n    description = models.TextField()\n    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE, null=True, blank=True)\n    created = models.DateTimeField(auto_now_add=True)\n    rank = models.IntegerField(default=0)\n    published = models.BooleanField(default=True)\n    price_range = IntegerRangeField(null=True, blank=True, default=None)\n    date_range = DateRangeField(null=True, blank=True, default=None)\n    created = models.DateTimeField(auto_now_add=True, blank=True)\n    metadata = models.JSONField(default=dict, blank=True)\n    tags = ArrayField(models.TextField(max_length=255), default=list, blank=True)\n\n    paradedb_key_field = \"id\"\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        indexes = [\n            Bm25Index(\n                \"id\",\n                \"title\",\n                \"description\",\n                \"rank\",\n                \"published\",\n                \"price_range\",\n                \"date_range\",\n                \"created\",\n                \"user\",\n                \"metadata\",\n                name=\"article_bm25_idx\",\n                fields_config=IndexFieldConfig(json_fields=[JSONFieldIndexConfig(\"metadata\", fast=True)]),\n            ),\n        ]\n</code></pre> <p>\ud83e\udde9 The <code>Bm25Index</code> makes your model searchable with full-text search using paradedb.</p>"},{"location":"getting-started/#example-query","title":"Example Query","text":"<p>Use ParadeDB\u2019s expression system to perform a full text search on your model:</p> <pre><code>from paradedb.expressions import Search\nfrom .models import Article\n\n# Search for articles matching \"django search\"\nresults = Article.objects.filter(Search(\"title\", \"django search\"))\n\nfor article in results:\n    print(article.title)\n</code></pre> <ul> <li>The <code>Search</code> expression automatically uses the ParadeDB BM25 index to rank results by relevance.</li> <li>To verify that the BM25 index is being applied, run <code>results.explain()</code> to inspect the underlying query plan.</li> </ul>"},{"location":"getting-started/#using-normal-django-search-with-fts","title":"Using normal django search with fts","text":"<pre><code>results = Article.objects.filter(Search(\"title\", \"value\") &amp; models.Q(rank=2))\n</code></pre> <p>\u2705 That\u2019s it \u2014 your model is now ParadeDB-powered and ready for full-text search in Django. For more Advance features check Expressions</p>"},{"location":"indexes/","title":"Inroduction","text":"<p>BM25 indexes in ParadeDB provide full-text search with relevance scoring. Creating a BM25 index is similar to creating a default Django index \u2014 you specify the fields to index, and you can use expressions or individual fields along with conditional expressions. Additional BM25-specific parameters, such as boosting, stopwords, and field normalization, can also be configured.</p> <ul> <li>import from  <code>paradedb.indexes</code> module</li> </ul>"},{"location":"indexes/#indexfield","title":"IndexField","text":"<p><code>IndexField</code> represents a model field inside a ParadeDB BM25 index with an optional PostgreSQL cast used for ParadeDB tokenizers.</p> <pre><code>IndexField(field: str | models.F, tokenizer_cast: typing.Optional[str] = None, field_resolver: typing.Optional[typing.Callable] = None)\n</code></pre>"},{"location":"indexes/#tokenizer_cast","title":"tokenizer_cast","text":"<p><code>tokenizer_cast</code> is appended directly to the SQL column reference and is expected to be a postgres paradedb cast, for example:</p> <ul> <li><code>pdb.literal</code></li> <li><code>pdb.ngram(1,2)</code>  and other</li> </ul>"},{"location":"indexes/#field_resolver","title":"field_resolver","text":"<p><code>field_resolver</code> resolved the field name with our without expression.</p> <p>Example</p> <pre><code>from django.db import models\nfrom paradedb.indexes import Bm25Index, IndexField\n\nclass Article(models.Model):\n    title = models.CharField(max_length=255)\n    body = models.TextField()\n    metadata = models.JsonField(default=dict)\n\n    class Meta:\n        indexes = [\n            Bm25Index(\n                IndexField(\"body\", tokenizer_cast=\"pdb.ngram(1,2)\"),\n                IndexField(\"(metadata-&gt;&gt;'word_count')\", tokenizer_cast=\"pdb.ngram(1,2)\"),\n                IndexField(Lower('title'), tokenizer_cast=\"pdb.ngram(1,2)\"),\n                name=\"article_bm25\",\n            )\n        ]\n</code></pre>"},{"location":"indexes/#bm25index","title":"Bm25Index","text":"<pre><code>Bm25Index(\n    *expressions,\n    fields=(),\n    name: str,\n    db_tablespace=None,\n    opclasses=(),\n    condition=None,\n    include=None,\n    fields_config: typing.Optional[IndexFieldConfig] = None,\n    key_field: str = \"id\",\n    with_extra: with_extra: typing.Optional[typing.Dict[str, typing.Any]] = None\n)\n</code></pre> <p><code>fields_config</code> additional field configuration for bm25 index. see the index field configuration To learn more about Index parameters, see the Django Index </p>"},{"location":"indexes/#indexfieldconfig","title":"IndexFieldConfig","text":"<pre><code>IndexFieldConfig(\n    text_fields: typing.Optional[typing.List[TextFieldIndexConfig]] = None,\n    json_fields: typing.Optional[typing.List[JSONFieldIndexConfig]] = None,\n    numeric_fields: typing.Optional[typing.List[NumericFieldIndexConfig]] = None,\n    boolean_fields: typing.Optional[typing.List[BooleanFieldIndexConfig]] = None,\n    datetime_fields: typing.Optional[typing.List[DateTimeFieldIndexConfig]] = None,\n)\n</code></pre> <p>see <code>TextFieldIndexConfig</code> field configuration  see <code>JSONFieldIndexConfig</code> field configuration  see <code>NumericFieldIndexConfig</code> field configuration  see <code>BooleanFieldIndexConfig</code> field configuration  see <code>DateTimeFieldIndexConfig</code> field configuration </p> <p>To learn more, see the ParadeDB field configuration.</p>"},{"location":"indexes/#textfieldindexconfig","title":"TextFieldIndexConfig","text":"<pre><code>TextFieldIndexConfig(\n    field: str,\n    fast: bool = True,\n    tokenizer: typing.Optional[Tokenizer] = None,\n    normalizer: typing.Literal[\"raw\", \"lowercase\"] = \"raw\",\n    record: typing.Literal[\"position\", \"freq\", \"basic\"] = \"position\",\n    indexed: bool = True,\n    fieldnorms: bool = True,\n    column: typing.Optional[str] = None,\n)\n</code></pre> <p>Configure a text field for indexing.  If <code>column</code> is provided, <code>field</code> will be treated as an alias.   To learn more, see the ParadeDB TextFieldIndexConfig.</p> <p>Example <pre><code>from paradedb.indexes import Bm25Index, IndexFieldConfig, TextFieldIndexConfig\n\nBm25Index(\n    fields=[\"id\", \"title\", \"description\"],\n    name=\"idx_name\",\n    fields_config= IndexFieldConfig(\n    text_fields=[\n        TextFieldIndexConfig(\n            field=\"title\",\n            fast=True,\n            normalizer=\"lowercase\",\n            record=\"position\"\n        ),\n        TextFieldIndexConfig(\n            field=\"description\",\n            fast=True,\n            normalizer=\"lowercase\",\n        )\n    ]\n))\n</code></pre></p>"},{"location":"indexes/#jsonfieldindexconfig","title":"JSONFieldIndexConfig","text":"<pre><code>JSONFieldIndexConfig(\n    field: str,\n    fast: bool = True,\n    tokenizer: typing.Optional[Tokenizer] = None,\n    normalizer: typing.Optional[typing.Literal[\"raw\",\"lowercase\"]] = None,\n    record: typing.Literal[\"position\", \"freq\", \"basic\"] = \"position\",\n    indexed: bool = True,\n    fieldnorms: bool = True,\n    column: typing.Optional[str] = None,\n    expand_dots: bool = True,\n)\n</code></pre> <p>Configure a json field for indexing. To learn more, see the ParadeDB JSONFieldIndexConfig.</p> <p>Example <pre><code>from paradedb.indexes import Bm25Index, IndexFieldConfig, JSONFieldIndexConfig\n\nBm25Index(\n    fields=[\"id\", \"metadata\"],\n    name=\"idx_name\",\n    fields_config=IndexFieldConfig(\n    json_fields=[\n        JSONFieldIndexConfig(\n            field=\"metadata\",\n            fast=True,\n            expand_dots=True\n        )\n    ]\n)\n)\n</code></pre></p>"},{"location":"indexes/#numericfieldindexconfig","title":"NumericFieldIndexConfig","text":"<pre><code>NumericFieldIndexConfig(\n    field: str,\n    fast: bool = True,\n    indexed: bool = True,\n    column: typing.Optional[str] = None,\n)\n</code></pre> <p>Configure a numeric field for indexing. To learn more, see the ParadeDB NumericFieldIndexConfig.</p> <p>Example <pre><code>from paradedb.indexes import Bm25Index, IndexFieldConfig, NumericFieldIndexConfig\n\nBm25Index(\n    fields=[\"id\", \"rank\"],\n    name=\"idx_name\",\n    fields_config=IndexFieldConfig(\n    numeric_fields=[\n        NumericFieldIndexConfig(field=\"rank\", fast=True),\n    ]\n)\n)\n</code></pre></p>"},{"location":"indexes/#booleanfieldindexconfig","title":"BooleanFieldIndexConfig","text":"<p><pre><code>BooleanFieldIndexConfig(\n    field: str,\n    fast: bool = True,\n    indexed: bool = True,\n    column: typing.Optional[str] = None,\n)\n</code></pre> Configure a boolean field for indexing. To learn more, see the ParadeDB BooleanFieldIndexConfig.</p> <p>Example <pre><code>from paradedb.indexes import Bm25Index, IndexFieldConfig, BooleanFieldIndexConfig\n\nBm25Index(\n    fields=[\"id\", \"published\"],\n    name=\"idx_name\",\n    fields_config=IndexFieldConfig(\n    numeric_fields=[\n        BooleanFieldIndexConfig(field=\"published\", fast=True),\n    ]\n))\n</code></pre></p>"},{"location":"indexes/#datetimefieldindexconfig","title":"DateTimeFieldIndexConfig","text":"<p><pre><code>DateTimeFieldIndexConfig(\n    field: str,\n    fast: bool = True,\n    indexed: bool = True,\n    column: typing.Optional[str] = None,\n)\n</code></pre> Configure a date or datetime field for indexing. To learn more, see the ParadeDB DateTimeFieldIndexConfig.</p> <p>Example <pre><code>from paradedb.indexes import Bm25Index, IndexFieldConfig, DateTimeFieldIndexConfig\n\nBm25Index(\n    fields=[\"id\", \"created\"],\n    name=\"idx_name\",\n    fields_config=IndexFieldConfig(\n    numeric_fields=[\n        DateTimeFieldIndexConfig(field=\"created\", fast=True),\n    ]\n))\n</code></pre></p>"},{"location":"indexes/#using-tokenizers-with-bm25-index","title":"Using Tokenizers with BM25 Index","text":"<pre><code>from paradedb.indexes import Bm25Index, IndexFieldConfig, TextFieldIndexConfig, JSONFieldIndexConfig\nfrom paradedb.tokenizers import WhitespaceTokenizer, NGramTokenizer\n\nBm25Index(\n    fields=[\"id\", \"title\", \"description\", \"metadata\"],\n    name=\"article_bm25_tokenizer_idx\",\n    fields_config=IndexFieldConfig(\n        text_fields=[\n            TextFieldIndexConfig(\n                field=\"title\",\n                fast=True,\n                tokenizer=WhitespaceTokenizer(),\n                normalizer=\"lowercase\",\n                record=\"position\"\n            ),\n            TextFieldIndexConfig(\n                field=\"description\",\n                fast=True,\n                tokenizer=NGramTokenizer(min_gram=2, max_gram=3),\n                normalizer=\"lowercase\",\n                record=\"position\"\n            )\n        ],\n        json_fields=[\n            JSONFieldIndexConfig(\n                field=\"metadata\",\n                tokenizer=WhitespaceTokenizer(),\n                expand_dots=True\n            )\n        ]\n    )\n)\n</code></pre> <p>To see more details about each tokenizer, check the class documentation above. To see all tokenizers and options, see Tokenizers.</p>"},{"location":"lookups/","title":"Introduction","text":"<p>Django ParadeDB provides custom lookups that forward their RHS (right-hand-side) values into ParadeDB Expressions. You can pass RHS values in four ways:  (<code>tuple</code>, <code>list</code> , <code>dict</code>, <code>LookupParameter</code>).</p> <p>Arguments are forwarded exactly in the same order required by the Expression (see Expressions).</p> <p>\u26a0 Note</p> <ul> <li> <p>For expressions or functions that do not require a field, use <code>id</code> or any other field.   The left-hand side (LHS) will be ignored in this case.</p> </li> <li> <p>When filtering on ForeignKey, OneToOne, or ManyToMany fields using   <code>related__id__pdb_lookup=...</code>, and it is not a reverse relation, you must use   <code>&lt;related_field&gt;__related__&lt;field_name&gt;</code> to correctly resolve the target table.</p> </li> <li>If value for the lookup fails, use PARADEDB_LOOKUP_SKIP_RHS_PREP.</li> </ul>"},{"location":"lookups/#__match","title":"__match","text":"<p>Expression: Match</p> <p>Example:</p> <pre><code>Article.objects.filter(title__match=\"deep learning\")\n</code></pre>"},{"location":"lookups/#__pdb_search","title":"__pdb_search","text":"<p>Expression: Search</p> <p>Example:</p> <pre><code>Aricle.objects.filter(title__pdb_search=\"django\")\n</code></pre>"},{"location":"lookups/#__term","title":"__term","text":"<p>Expression: Term</p> <p>Example:</p> <pre><code>Article.objects.filter(title__term=\"fantasy\")\n</code></pre>"},{"location":"lookups/#__term_set","title":"__term_set","text":"<p>Expression: TermSet</p> <p>Example:</p> <pre><code>Article.objects.filter(\n    id__term_set=LookupParameter(\n                terms=[\n                    Term(field=\"rank\", value=1),\n                    Term(field=\"rank\", value=200),\n                ])\n)\n</code></pre>"},{"location":"lookups/#__pdb_range","title":"__pdb_range","text":"<p>Expression: Range</p> <p>Example:</p> <pre><code>Article.objects.filter(\n    created__pdb_range=(\"daterange\", timezone.datetime(2021, 1, 1), timezone.datetime(2022, 1, 1), \"[]\")\n)\n</code></pre>"},{"location":"lookups/#__range_term","title":"__range_term","text":"<p>Expression: RangeTerm</p> <p>Example:</p> <pre><code>Article.objects.filter(\n    date_range__range_term=(\"'[2025-09-02,2025-09-10]'\", \"daterange\", \"Intersects\"),\n    price_range__range_term=(\"'[0,100]'\", \"int4range\", \"Intersects\"),\n)\n</code></pre>"},{"location":"lookups/#__phrase","title":"__phrase","text":"<p>Expression: Phrase</p> <p>Example:</p> <pre><code>Aricle.objects.filter(title__phrase=LookupParameter(pharses=[\"quick\", \"brown\", \"fox\"], slop=3))\n</code></pre>"},{"location":"lookups/#__phrase_prefix","title":"__phrase_prefix","text":"<p>Expression: PhrasePrefix</p> <p>Example:</p> <pre><code>Article.objects.filter( title__phrase_prefix=LookupParameter([\"deep\", \"learn\"]))\n</code></pre>"},{"location":"lookups/#__fuzzy_term","title":"__fuzzy_term","text":"<p>Expression: FuzzyTerm</p> <p>Example:</p> <pre><code>Article.objects.filter(title__fuzzy_term=(\"fuzzy\", 2, True))\n</code></pre>"},{"location":"lookups/#__boolean","title":"__boolean","text":"<p>Expression: Boolean</p> <p>Example:</p> <pre><code>Article.objects.filter(\n    id__boolean=dict(\n                should=[Term(field=\"title\", value=\"running\"), Term(field=\"title\", value=\"shoes\")],\n            )\n)\n</code></pre>"},{"location":"lookups/#__more_like_this","title":"__more_like_this","text":"<p>Expression: MoreLikeThis</p> <p>Example:</p> <pre><code>Article.objects.filter(id__more_like_this=LookupParameter(123, fields=[\"title\", \"description\"]))\n\nArticle.objects.filter(id__more_like_this=LookupParameter(document={'title': \"django\"}))\n</code></pre>"},{"location":"lookups/#__pdb_regex","title":"__pdb_regex","text":"<p>Expression: Regex</p> <p>Example:</p> <pre><code>Article.objects.filter(title__pdb_regex=\"^Deep.*\")\n</code></pre>"},{"location":"lookups/#__const_score","title":"__const_score","text":"<p>Expression: ConstScore</p> <p>Example:</p> <pre><code>Article.objects.filter(id__const_score=(1.0, Match(field=\"title\", value=\"shoes\")))\n</code></pre>"},{"location":"lookups/#__disjunction_max","title":"__disjunction_max","text":"<p>Expression: DisjunctionMax</p> <p>Example:</p> <pre><code>Article.objects.filter(\n    id__disjunction_max=LookupParameter(\n                [Term(field=\"title\", value=\"django\")],\n                tie_breaker=1,\n            )\n)\n</code></pre>"},{"location":"lookups/#__parse_with_field","title":"__parse_with_field","text":"<p>Expression: ParseWithField</p> <p>Example:</p> <pre><code>Article.objects.filter(title__parse_with_field=\"title:deep learning\")\n</code></pre>"},{"location":"lookups/#__parse","title":"__parse","text":"<p>Expression: Parse</p> <p>Example:</p> <pre><code>Article.objects.filter(\n    id__parse=LookupParameter(\n                \"title:well AND description:well\", lenient=True, conjunction_mode=True\n            )\n)\n</code></pre>"},{"location":"lookups/#__match_v2","title":"__match_v2","text":"<p>Expression: Search</p> <p>Example:</p> <pre><code>Article.objects.filter(title__match_v2='django')\n\n# using value with custom tokenizer\nfrom paradedb.cast import ValueCast\n\nArticle.objects.filter(title__match_v2=ValueCast('django', 'pdb.ngram(1,2)'))\n</code></pre>"},{"location":"lookups/#__match_v2_conjunction","title":"__match_v2_conjunction","text":"<p>Expression: Search</p> <p>Example:</p> <pre><code>Article.objects.filter(title__match_v2_conjunction='django')\n\n# using value with custom tokenizer\nfrom paradedb.cast import ValueCast\n\nArticle.objects.filter(title__match_v2_conjunction=ValueCast('django', 'pdb.ngram(1,2)'))\n</code></pre>"},{"location":"lookups/#__term_v2","title":"__term_v2","text":"<p>Expression: Search</p> <p>Example:</p> <pre><code>Article.objects.filter(title__term_v2='django')\n\n# using value with custom tokenizer\nfrom paradedb.cast import ValueCast\n\nArticle.objects.filter(title__term_v2=ValueCast('django', 'pdb.ngram(1,2)'))\n</code></pre>"},{"location":"lookups/#__phrase_v2","title":"__phrase_v2","text":"<p>Expression: Search</p> <p>Example:</p> <pre><code>Article.objects.filter(title__phrase_v2='django')\n\n# using value with custom tokenizer\nfrom paradedb.cast import ValueCast\n\nArticle.objects.filter(title__phrase_v2=ValueCast('django', 'pdb.ngram(1,2)'))\n</code></pre>"},{"location":"lookups/#__proximity","title":"__proximity","text":"<p>Expression: Proximity</p> <p>Example:</p> <pre><code>Article.objects.filter(title__proximity=[[\"python\", \"##\" 1, \"##&gt;\",  \"django\"]])\n</code></pre>"},{"location":"lookups/#__json_op","title":"__json_op","text":"<p>Expression: JsonOp</p> <p>Example:</p> <pre><code>Article.objects.filter(metadata__field1__field2__json_op=\"django\")\n</code></pre>"},{"location":"settings/","title":"Settings","text":""},{"location":"settings/#paradedb_lookup_skip_rhs_prep","title":"PARADEDB_LOOKUP_SKIP_RHS_PREP","text":"<p><code>PARADEDB_LOOKUP_SKIP_RHS_PREP</code> is an optional setting that lists lookup names that should skip RHS (right-hand side) preparation. It must be either a list or None. default <code>None</code></p> <pre><code>PARADEDB_LOOKUP_SKIP_RHS_PREP = [\"match\"]\n</code></pre>"},{"location":"settings/#paradedb_raise_on_model_not_found","title":"PARADEDB_RAISE_ON_MODEL_NOT_FOUND","text":"<p><code>PARADEDB_RAISE_ON_MODEL_NOT_FOUND</code> : if set to <code>true</code> and when resolving lookup expression for a queryset fails then, it raises <code>ModelNotFoundError</code>. default <code>True</code>.</p> <pre><code>PARADEDB_RAISE_ON_MODEL_NOT_FOUND = True\n</code></pre>"},{"location":"settings/#paradedb_use_legacy","title":"PARADEDB_USE_LEGACY","text":"<p><code>PARADEDB_USE_LEGACY</code>: force to use <code>paradedb</code> schema legacy functions.</p> <pre><code>PARADEDB_USE_LEGACY = ['match']\n</code></pre>"},{"location":"settings/#paradebd_use_v2","title":"PARADEBD_USE_V2","text":"<p><code>PARADEBD_USE_V2</code> : when set to <code>true</code> then <code>pdb</code> schema functions will be used.</p>"},{"location":"tokenizers/","title":"Tokenizers","text":"<ul> <li>import from  <code>paradedb.tokenizers</code> module</li> </ul>"},{"location":"tokenizers/#available-tokenizers","title":"Available Tokenizers","text":"<p>Below are the available tokenizer classes you can use</p>"},{"location":"tokenizers/#available-stemmer-languages","title":"Available Stemmer Languages","text":"<p>Arabic, Danish, Dutch, English, Finnish, French, German, Greek, Hungarian, Italian, Norwegian, Portuguese, Romanian, Russian, Spanish, Swedish, Tamil, Turkish</p>"},{"location":"tokenizers/#available-stopword-languages","title":"Available Stopword Languages","text":"<p>Danish, Dutch, English, Finnish, French, German, Hungarian, Italian, Norwegian, Portuguese, Russian, Spanish, Swedish</p>"},{"location":"tokenizers/#whitespacetokenizer","title":"WhitespaceTokenizer","text":"<pre><code>WhitespaceTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> <p>see ParadeDB whitespace tokenizer</p>"},{"location":"tokenizers/#rawtokenizer","title":"RawTokenizer","text":"<pre><code>RawTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> <p>see ParadeDB raw tokenizer</p>"},{"location":"tokenizers/#keywordtokenizer","title":"KeyWordTokenizer","text":"<pre><code>KeyWordTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> <p>see ParadeDB keyword tokenizer</p>"},{"location":"tokenizers/#sourcecodetokenizer","title":"SourceCodeTokenizer","text":"<pre><code>SourceCodeTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> <p>see ParadeDB sourcecode tokenizer</p>"},{"location":"tokenizers/#chinesecompatibletokenizer","title":"ChineseCompatibleTokenizer","text":"<pre><code>ChineseCompatibleTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> <p>see ParadeDB chinese compatible tokenizer</p>"},{"location":"tokenizers/#linderatokenizer","title":"LinderaTokenizer","text":"<p><pre><code>LinderaTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> see ParadeDB lindera tokenizer</p>"},{"location":"tokenizers/#jiebatokenizer","title":"JiebaTokenizer","text":"<p><pre><code>JiebaTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> see ParadeDB jieba okenizer</p>"},{"location":"tokenizers/#icutokenizer","title":"ICUTokenizer","text":"<p><pre><code>ICUTokenizer(\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> see ParadeDB icu tokenizer</p>"},{"location":"tokenizers/#regextokenizer","title":"RegexTokenizer","text":"<pre><code>RegexTokenizer(\n    pattern: str,\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    stopwords_language: typing.Optional[str] = None,\n    stopwords: typing.Optional[typing.List[str]] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> <p>see ParadeDB regex tokenizer</p>"},{"location":"tokenizers/#ngramtokenizer","title":"NGramTokenizer","text":"<pre><code>NGramTokenizer(\n    min_gram: int,\n    max_gram: int,\n    prefix_only: bool = False,\n    stemmer: typing.Optional[str] = None,\n    remove_long: typing.Optional[int] = None,\n    lowercase: typing.Optional[bool] = None,\n    ascii_folding: typing.Optional[bool] = None,\n)\n</code></pre> <p>see ParadeDB Ngram tokenizer</p>"},{"location":"tokenizers/#example-using-tokenizers-with-bm25-index","title":"Example Using Tokenizers with BM25 Index","text":"<pre><code>from paradedb.indexes import Bm25Index, IndexFieldConfig, TextFieldIndexConfig, JSONFieldIndexConfig\nfrom paradedb.tokenizers import WhitespaceTokenizer, NGramTokenizer\n\nBm25Index(\n    fields=[\"id\", \"title\", \"description\", \"metadata\"],\n    name=\"bm25_idx\",\n    fields_config=IndexFieldConfig(\n        text_fields=[\n            TextFieldIndexConfig(\n                field=\"title\",\n                fast=True,\n                tokenizer=WhitespaceTokenizer(),\n                normalizer=\"lowercase\",\n                record=\"position\"\n            ),\n            TextFieldIndexConfig(\n                field=\"description\",\n                fast=True,\n                tokenizer=NGramTokenizer(min_gram=2, max_gram=3),\n                normalizer=\"lowercase\",\n                record=\"position\"\n            )\n        ],\n        json_fields=[\n            JSONFieldIndexConfig(\n                field=\"metadata\",\n                tokenizer=WhitespaceTokenizer(),\n                expand_dots=True\n            )\n        ]\n    )\n)\n</code></pre>"},{"location":"utilities/","title":"Utilities","text":"<ul> <li>All the utilities is inside the <code>paradedb.utils</code> module</li> </ul>"},{"location":"utilities/#_1","title":"Utilities","text":""},{"location":"utilities/#keyfield","title":"KeyField","text":"<p><code>KeyField</code> is a utility class to represent a key field of a Django model or a database table, and generate SQL references. it can be used with Expressions</p>"},{"location":"utilities/#parameters","title":"Parameters","text":"<ul> <li><code>table</code> (<code>Type[models.Model] | models.Model | str</code>):   The model class, model instance, or table name.</li> <li> <p>If <code>str</code>, <code>primary_key_field</code> must also be provided.</p> </li> <li> <p><code>primary_key_field</code> (<code>Optional[str]</code>):   Name of the primary key field if the table is provided as a string. Optional if using a model.</p> </li> </ul>"},{"location":"utilities/#methods","title":"Methods","text":""},{"location":"utilities/#__str__","title":"<code>__str__()</code>","text":"<p>Returns the SQL representation of the key field by calling <code>get_sql()</code>.</p>"},{"location":"utilities/#get_sql","title":"<code>get_sql()</code>","text":"<p>Generates the SQL expression for the key field: <pre><code>\"{table}.{key_field}\"\n</code></pre></p>"},{"location":"utilities/#get_lhs_sql","title":"<code>get_lhs_sql()</code>","text":"<p>Returns a left-hand side SQL placeholder for the key field:</p> <pre><code>\"{table}.{key_field} @@@ \"\n</code></pre>"},{"location":"utilities/#get_table","title":"<code>get_table()</code>","text":"<p>Returns the table name:</p> <ul> <li>If <code>table</code> is a Django model or instance, returns <code>table._meta.db_table</code>.</li> <li>If <code>table</code> is a string, returns the string itself.</li> </ul>"},{"location":"utilities/#resolve_sql_from_table_column_stringtable_column_string-str-keyfield","title":"<code>resolve_sql_from_table_column_string(table_column_string: str) -&gt; KeyField</code>","text":"<p>Class method that creates a <code>KeyField</code> from a string in <code>table.column</code> format.</p> <ul> <li><code>table_column_string</code> (<code>str</code>): Expected format <code>\"table.column\"</code>.</li> </ul>"},{"location":"utilities/#example","title":"Example","text":"<pre><code>Article.objects.filter(Match('title', 'value', key_field=KeyField(Article), match_op=True))\n</code></pre>"},{"location":"utilities/#tablefield","title":"TableField","text":"<p><code>TableField</code> represents a specific field in a table or model key field and generates SQL references.</p>"},{"location":"utilities/#parameters_1","title":"Parameters","text":"<ul> <li><code>field</code> (<code>str</code>): The name of the field. Required.</li> <li><code>table</code> (<code>typing.Optional[typing.Type[models.Model] | models.Model | str]</code>): Name of the table. Optional if <code>key_field</code> is provided.</li> <li><code>key_field</code> (<code>typing.Optional[KeyField]</code>): A <code>KeyField</code> instance representing the table's key. Required if <code>table</code> is not provided.</li> </ul>"},{"location":"utilities/#methods_1","title":"Methods","text":""},{"location":"utilities/#get_sql_1","title":"<code>get_sql()</code>","text":"<p>Generates the SQL expression for the table field:</p> <pre><code>\"{table}.{field}\"\n</code></pre> <ul> <li><code>table</code> is either provided directly or derived from <code>key_field</code>.</li> </ul>"},{"location":"utilities/#example_1","title":"Example","text":"<pre><code>Article.objects.select_related(\"user\").filter(\n        Search(TableField(\"username\", key_field=KeyField(TableUser)), \"python\")\n    )\n</code></pre>"}]}